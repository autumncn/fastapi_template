{% extends "shared/base.html" %}

{% block link %}
{% endblock %}

{% block title %}
<title>{{ _('title_tool_ip') }}</title>
{% endblock %}

{% block main %}
<header class="page-header page-header-compact page-header-light border-bottom bg-white mb-4">
    <div class="container-fluid px-4">
        <div class="page-header-content">
            <div class="row align-items-center justify-content-between pt-3">
                <div class="col-auto mb-3">
                    <h1 class="page-header-title">
                        <div class="page-header-icon"><i data-feather="globe"></i></div>
                        {{ _('title_tool_ip') }}
                    </h1>
                </div>
                <div class="col-12 col-xl-auto mb-3">
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Main page content-->
<div class="container-fluid px-4">
    <div class="card mb-4">
        <div class="card-header">
        </div>
        <div class="card-body">
            <form action="/tools/tool_ip" enctype="application/x-www-form-urlencoded" method="POST">

                <div class="row">
                    <div class="col-lg-12">

                        <label class="small mb-1" >{{ _('check_ip') }}</label>
                        <div class="row">
                            <div class="col-lg-6">
                                <input class="form-control" name="check_the_ip" type="text"
                                       placeholder="{{ _('enter_check_ip') }}"
                                       required autofocus/>
                                <div class="invalid-feedback">
                                    {{ _('please_type_check_ip') }}
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <button class="btn btn-primary" type="submit">{{ _('submit') }}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <hr>
            <div class="row">
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card-header">{{ _('ip_details') }}</div>
                        <div class="card-body" id="ip_detail">
                            <div class="table-responsive">
                                <table class="table mb-0 table-striped">
                                    <tbody>
                                    <tr>
                                        <th class="p-3" scope="row">{{ _('ip') }}</th>
                                        <td class="p-3">{{ check_the_ip }}</td>
                                    </tr>
                                    <tr>
                                        <th class="p-3" scope="row">{{ _('continent') }}</th>
                                        <td class="p-3">{{ ip_detail.continent }}</td>
                                    </tr>
                                    <tr>
                                        <th class="p-3" scope="row">{{ _('country') }}</th>
                                        <td class="p-3">{{ ip_detail.country }}</td>
                                    </tr>
                                    {% if ip_detail.city %}
                                    <tr>
                                        <th class="p-3" scope="row">{{ _('city') }}</th>
                                        <td class="p-3">{{ ip_detail.city }}</td>
                                    </tr>
                                    {% endif %}
                                    <tr>
                                        <th class="p-3" scope="row">{{ _('isp') }}</th>
                                        <td class="p-3">{{ ip_detail.isp }}</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4">
                        <div class="card-header">{{ _('location_in_google_map') }}</div>
                        <div class="card-body" id="ip_map">
                            <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDR7DFQIBGumoziD6B6a0n2EZgrKhQOWS4&q={{ ip_detail.latwgs }},{{ ip_detail.lngwgs }}&zoom=10"
                                    style="border:1;width: 100%;height: 100%;" allowfullscreen="" loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(function () {
    $('#ip_map').height($('#ip_detail').height());
});


</script>
{% endblock %}

